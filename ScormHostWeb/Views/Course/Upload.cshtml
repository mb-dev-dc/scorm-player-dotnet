i @{
    ViewData["Title"] = "Upload SCORM Package";
}

<div class="upload-page">
    <div class="upload-header">
        <h2 class="upload-title">Upload SCORM Package</h2>
        <p class="upload-subtitle">Upload a SCORM ZIP package to add a new course</p>
    </div>

    <div class="upload-form-container">
        <form asp-action="Upload" method="post" enctype="multipart/form-data" class="upload-form">
            @Html.AntiForgeryToken()

            <div class="form-group mb-4">
                <label for="title" class="form-label">Course Title *</label>
                <input type="text" name="title" class="form-control" placeholder="Enter course title" required />
                <div class="text-danger" id="title-error"></div>
            </div>

            <div class="form-group mb-4">
                <label for="scormPackage" class="form-label">SCORM Package (ZIP) *</label>
                <div class="file-upload-wrapper">
                    <input type="file" id="scormPackage" name="scormPackage" class="form-control" accept=".zip" required />
                    <div class="file-upload-info">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <span>Select a ZIP file containing your SCORM package</span>
                    </div>
                </div>
                <div class="text-danger" id="package-error"></div>
            </div>

            <div class="upload-requirements">
                <h6>Requirements:</h6>
                <ul>
                    <li>File must be a ZIP archive</li>
                    <li>Must contain a valid imsmanifest.xml file</li>
                    <li>Should be a SCORM 1.2 or SCORM 2004 compliant package</li>
                </ul>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-upload">
                    <i class="fas fa-upload me-2"></i>Upload Course
                </button>
                <a asp-action="Index" class="btn btn-secondary ms-2">
                    <i class="fas fa-arrow-left me-2"></i>Back to Courses
                </a>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}

    <script>
        document.getElementById('scormPackage').addEventListener('change', function(e) {
            const fileInfo = document.querySelector('.file-upload-info span');
            if (e.target.files.length > 0) {
                fileInfo.textContent = e.target.files[0].name;
            } else {
                fileInfo.textContent = 'Select a ZIP file containing your SCORM package';
            }
        });
    </script>
}